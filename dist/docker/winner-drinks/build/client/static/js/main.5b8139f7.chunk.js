(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(30),s=n.n(c),i=(n(35),n(11)),o=n(2),l=n(0),u=function(e){var t=e.addUser,n=Object(a.useState)(""),r=Object(o.a)(n,2),c=r[0],s=r[1];return Object(l.jsxs)("div",{className:"Login box",children:[Object(l.jsx)("h1",{className:"title",children:"Add all players"}),Object(l.jsx)("input",{className:"input",type:"text",value:c,name:"newname",id:"newname",onChange:function(e){e.target.value.length>10||s(e.target.value)}}),Object(l.jsx)("input",{className:"button",type:"button",onClick:function(){t(c),s("")},value:"Add",id:"newnamebtn"})]})},d=function(e){var t=e.gameService,n=e.gameEvent,r=Object(a.useState)(t.getPlayers(2,t.players)),c=Object(o.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){return function(){i(t.getPlayers(2,t.players))}}),[t]),Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("div",{"data-testid":"game-event",className:"content",children:n.question.replace(/{p0}/g,"".concat(s[0])).replace(/{p1}/g,"".concat(s[1]))}),Object(l.jsx)("h3",{children:"Who won?"}),Object(l.jsx)("button",{className:"button",onClick:function(){t.addScore(s[0],1),t.makeWinnerAlert(s[0]),t.chooseRandomNewGame()},children:s[0].toString()}),Object(l.jsx)("button",{className:"button",onClick:function(){t.addScore(s[1],1),t.makeWinnerAlert(s[1]),t.chooseRandomNewGame()},children:s[1].toString()})]})},b=(n(37),["#9ede73","#f7ea00","#e48900","#be0000"]),j={animationName:"spin",animationTimingFunction:"ease-in-out",animationDuration:"".concat(3,"s"),animationDelay:"0.0s",animationIterationCount:1,animationDirection:"normal",animationFillMode:"forwards",marginBottom:"2rem"},h=function(e){var t=e.gameService,n=t.getPlayers(4,t.players),r=360/n.length,c=Object(a.useState)(!0),s=Object(o.a)(c,2),i=s[0],u=s[1],d=Object(a.useState)(""),h=Object(o.a)(d,2),v=h[0],f=h[1],m=Object(a.useState)(""),p=Object(o.a)(m,2),O=p[0],x=p[1],g=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},y=function(e){var a=n[e];console.log("Winning value is: ".concat(a.toString())),f("".concat(a.toString()," won!")),k(),t.addScore(a,1),t.makeWinnerAlert(a),t.chooseRandomNewGame()},k=function(){try{document.styleSheets[0].deleteRule(2),u(!0),x(""),f("")}catch(e){console.log("Stylesheet has already been reset..."),x("Stylesheet has already been reset...")}};return Object(l.jsxs)("div",{className:"WheelComponent",children:[Object(l.jsx)("span",{style:{margin:"0px"},children:"|"}),Object(l.jsx)("div",{onClick:function(){if(i){x("");var e=g(1,n.length)-1,t=function(e){var t=0;switch(e){case 0:t=g(226,315);break;case 1:t=g(136,225);break;case 2:t=g(46,135);break;case 3:t=g(0,45)}return 1440+t}(e),a=document.styleSheets[0],r="\n      @keyframes spin {\n        from {transform:rotate(0deg);}\n        to {transform:rotate(".concat(t,"deg);}\n      }");a.insertRule(r,a.cssRules.length),setTimeout((function(){return y(e)}),3500)}else x("Please reset the wheel..."),console.log("Please reset the wheel...");u(!1)},className:"wheel",style:j,children:n.map((function(e,t){var n=t*r;return Object(l.jsx)("div",{style:{transform:"rotate(".concat(n,"deg)"),borderRight:"200px solid ".concat(b[t])},className:"arrow",children:Object(l.jsx)("span",{children:e.toString()})},t)}))}),Object(l.jsx)("div",{className:"d-flex"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:O}),Object(l.jsx)("p",{children:v})]})]})},v=(n(17),function(e){var t=e.gameService,n=e.gameEvent,r=Object(a.useState)(t.getPlayers(2,t.players)),c=Object(o.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){return function(){i(t.getPlayers(2,t.players))}}),[t]),Object(l.jsxs)("div",{className:"box container",children:[Object(l.jsxs)("div",{children:[s[0].toString()," and ",s[1].toString()]}),Object(l.jsx)("div",{"data-testid":"game-event",className:"content",children:n.question}),Object(l.jsx)("h3",{className:"title is-6",children:"Were both correct?"}),Object(l.jsx)("button",{className:"button",onClick:function(){t.addScore(s[0],1),t.addScore(s[1],1),t.makeWinnerAlert(s),t.chooseRandomNewGame()},children:"They were correct!"}),Object(l.jsx)("button",{className:"button",onClick:function(){t.makeWinnerAlert(null),t.chooseRandomNewGame()},children:"They were wrong!"})]})}),f=n(66),m=function(e){var t=document.createElement("span");return t.innerHTML=e,t.innerHTML},p=(n(38),n(39),function(e){var t=e.answer,n=e.handleAnswer;return Object(a.useEffect)((function(){}),[]),Object(l.jsx)("div",{className:"questionDiv card",onClick:n,children:t})}),O=function(e){var t=e.gameService,n=e.gameEvent,r=Object(a.useState)(t.getPlayers(1,t.players)),c=Object(o.a)(r,2),s=c[0],i=c[1],u=Object(a.useState)(),d=Object(o.a)(u,2),b=d[0],j=d[1];Object(a.useEffect)((function(){var e;"incorrect_answers"in n&&((e=n.incorrect_answers).push(n.correct_answer),e=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}(e),n.all_answers=e,j(n))}),[n]),Object(a.useEffect)((function(){return function(){i(t.getPlayers(1,t.players))}}),[t]);var h=function(e){b&&(e.target.innerText===b.correct_answer&&t.addScore(s[0],1),t.chooseRandomNewGame(),t.makeWinnerAlert(s[0]))};return b?Object(l.jsxs)("div",{className:"box",children:[Object(l.jsxs)("div",{id:"gameInfo",children:[Object(l.jsx)("h4",{children:"Turn to answer a question: "}),Object(l.jsx)("ul",{children:Object(l.jsx)("li",{className:"card",children:s[0].name})})]}),Object(l.jsx)("br",{}),Object(l.jsx)("h2",{children:m(n.question)}),Object(l.jsxs)("div",{className:"answersDiv",children:[Object(l.jsx)("br",{}),b.all_answers.map((function(e){return Object(l.jsx)(p,{answer:m(e),handleAnswer:h},Object(f.a)())}))]})]}):Object(l.jsx)("button",{className:"button",onClick:function(){t.makeWinnerAlert(null),t.chooseRandomNewGame()},children:"Triva question could not be loaded!"})},x=n(7),g=n(8),y=function(){function e(t){if(Object(x.a)(this,e),this.name=void 0,this.isActive=void 0,this.score=void 0,t.length<3||t.length>10)throw Error("Name must be at least 3 characters and not exceed 10.");if(t&&!t.trim())throw Error("Name cannot be empty.");this.name=t,this.isActive=!0,this.score=0}return Object(g.a)(e,[{key:"setScore",value:function(e){this.score=e}},{key:"addScore",value:function(e){this.score+=e}},{key:"toString",value:function(e){return e?"Name: ".concat(this.name," Score: ").concat(this.score," isActive: ").concat(this.isActive):this.name}}]),e}(),k=function(e){var t=e.winners,n=e.message;return null==t?Object(l.jsx)("div",{className:"box",children:n||"No points awarded"}):1===t.length?Object(l.jsxs)("div",{className:"box",children:[n||"Have a sip, "," ",t[0].toString()]}):t.length>1?Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("div",{children:n||"A sip each to:  "}),t.map((function(e,t){return Object(l.jsx)("span",{className:"tag",children:e.toString()},t)}))]}):Object(l.jsx)("span",{style:{display:"none"}})},w=function(e){var t=e.players;return null==t?Object(l.jsx)("div",{className:"box",children:"No scores yet!"}):t?Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("div",{className:"",children:"Current score:"}),Object(l.jsx)("table",{className:"table is-fullwidth is-striped scoreboard",children:Object(l.jsx)("tbody",{children:t.map((function(e,t){return Object(l.jsxs)("tr",{children:[Object(l.jsxs)("th",{children:[e.toString(),":"]}),Object(l.jsx)("td",{children:e.score})]},t)}))})})]}):Object(l.jsx)("span",{style:{display:"none"}})},N=function(e){var t=e.makeWinnerAlert,n=e.chooseRandomNewGame;return Object(l.jsx)("button",{className:"button is-danger",onClick:function(){t(null,"Skipped."),n()},children:"Skip"})},S=function(e){var t=e.gameModuleService,n=e.players,r=e.gameService,c=e.activeGames,s=[h,d,v,O],i=Object(a.useState)(1),u=Object(o.a)(i,2),b=u[0],j=u[1],f=Object(a.useState)(void 0),m=Object(o.a)(f,2),p=m[0],x=m[1],g=Object(a.useState)(void 0),S=Object(o.a)(g,2),A=S[0],E=S[1],P=Object(a.useState)(void 0),C=Object(o.a)(P,2),G=C[0],T=C[1],M=Object(a.useState)([]),R=Object(o.a)(M,2),B=R[0],W=R[1],U=Object(a.useState)(),D=Object(o.a)(U,2),L=D[0],I=D[1],_=Object(a.useState)(-1),q=Object(o.a)(_,2),F=q[0],H=q[1];Object(a.useEffect)((function(){t&&(x(t.getTriviaEvents()),E(t.getBackToBackEvents()),T(t.getPartyEvents()))}),[t]);var K,V=function(e,t){if(Array.isArray(e))W(e);else if(null===e)W(null);else{if(!(e instanceof y))throw new Error("You need to pass an array of Players, a Player or null.");W([e])}I(t||void 0)},Y=function(){var e=r.getNewGameIndex(b,s,c);j(e),J(e)},J=function(e){var t;switch(e){case 3:if(!p)return;t=r.getRandomGameEvent(p);break;case 2:if(!A)return;t=r.getRandomGameEvent(A);break;case 1:if(!G)return;t=r.getRandomGameEvent(G)}H(t)},z={players:n,getPlayers:r.getPlayers,addScore:r.addScore,makeWinnerAlert:V,chooseRandomNewGame:Y,removeGameEvent:function(e,t){t.questions.filter((function(t){return t._id!==e}))}};if(!p||!A||!G)return Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"Loading..."})});if(r.getNumActivePlayers(n)<2)return Object(l.jsx)("h1",{children:"Too many players are paused. Please wait for them and start their session again!"});switch(b){case 3:K=Object(l.jsx)(O,{gameService:z,gameEvent:F});break;case 2:K=Object(l.jsx)(v,{gameService:z,gameEvent:F});break;case 1:K=Object(l.jsx)(d,{gameService:z,gameEvent:F});break;case 0:K=Object(l.jsx)(h,{gameService:z})}return p&&A&&G?F<0?(Y(),Object(l.jsx)("h1",{children:"Hej"})):Object(l.jsxs)("div",{className:"Game",children:[Object(l.jsx)(k,{winners:B,message:L}),Object(l.jsx)(w,{players:n}),K,Object(l.jsx)(N,{makeWinnerAlert:V,chooseRandomNewGame:Y})]}):Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"Loading..."})})};n(40);var A=function(e){return Object(l.jsx)("div",{className:"box nameerror",children:e.message})},E=(n(41),n(13)),P=n(10);var C=function(e){var t=e.player,n=e.updatePlayerActive,a=e.deletePlayer;return Object(l.jsxs)("div",{className:"box is-flex is-flex-direction-row is-align-items-center is-justify-content-space-between",children:[Object(l.jsx)("p",{className:"subtitle",style:{margin:"0"},children:t.name}),Object(l.jsxs)("div",{className:"btn-group",style:{display:"flex"},children:[Object(l.jsx)(E.a,{color:t.isActive?"orange":"blue",icon:t.isActive?P.b:P.c,cursor:"pointer",onClick:function(){return n(t.name)}}),Object(l.jsx)(E.a,{color:"red",className:"ml-3",icon:P.d,cursor:"pointer",onClick:function(){return a(t.name)}})]})]})};var G=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"button is-danger",onClick:function(){window.location.reload()},children:"Reload page"})})},T=function(e){var t=e.navbarOpen,n=e.players,r=e.gameModuleSettings,c=e.updatePlayerActive,s=e.onGameModuleSettingUpdate,u=e.deleteUser,d=e.addUser,b=Object(a.useState)(""),j=Object(o.a)(b,2),h=j[0],v=j[1],f=function(e){n.length<=2||u(e)};return Object(l.jsx)("nav",{children:Object(l.jsx)("div",{className:"links "+(t?"nav-open":""),children:Object(l.jsxs)("aside",{className:"menu is-flex is-flex-direction-column",style:{padding:"12px",height:"100%"},children:[Object(l.jsx)("h2",{className:"subtitle",children:"Settings"}),Object(l.jsx)("p",{className:"menu-label",children:"Game Modules"}),Object(l.jsx)("ul",{className:"menu-list",children:r.map((function(e,t){return Object(l.jsx)("li",{children:Object(l.jsx)("a",{href:"/",onClick:function(t){return function(e,t){e.preventDefault();for(var n=0,a=0;a<r.length;a++)r[a].active&&n++;for(var c=Object(i.a)(r),o=0;o<c.length;o++)if(c[o].name===t){if(c[o].active&&2===n)return void console.log("Atleast 2 game modules must be enabled");c[o].active=!c[o].active;break}s(c)}(t,e.name)},children:Object(l.jsxs)("label",{className:"checkbox",children:[Object(l.jsx)("input",{type:"checkbox",onChange:function(){return e.active},checked:e.active,style:{marginRight:"8px"}}),e.name," Module"]})})},t)}))}),Object(l.jsx)("p",{className:"menu-label",children:"Add Player"}),Object(l.jsxs)("div",{className:"field has-addons",children:[Object(l.jsx)("div",{className:"control",children:Object(l.jsx)("input",{className:"input",type:"text",placeholder:"Input name",onChange:function(e){return v(e.target.value)}})}),Object(l.jsx)("div",{className:"control",children:Object(l.jsx)("button",{className:"button is-info",onClick:function(){return d(h)},children:"Add"})})]}),Object(l.jsx)("p",{className:"menu-label",children:"Players"}),Object(l.jsx)("ul",{className:"menu-list",style:{overflowY:"scroll"},children:n.map((function(e,t){return Object(l.jsx)(C,{deletePlayer:f,player:e,updatePlayerActive:c},t)}))}),Object(l.jsx)(G,{})]})})})};var M,R=function(e){var t=e.setNavbarOpen;return Object(l.jsx)("div",{style:{padding:"8px 16px"},children:Object(l.jsx)(E.a,{icon:P.a,color:"grey",size:"2x",cursor:"pointer",onClick:function(){return t(!0)}})})},B=n(3),W=n.n(B),U=n(5),D=n(19),L=n.n(D),I=function(){function e(){Object(x.a)(this,e),this.baseUrl="".concat("http://localhost:4000","/api/")}return Object(g.a)(e,[{key:"checkStatus",value:function(){var e=Object(U.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(this.baseUrl+"status");case 3:return t=e.sent,e.abrupt("return",1===t.data.connectionAPI);case 7:return e.prev=7,e.t0=e.catch(0),console.log("No contact with the server API:",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getGameEvents",value:function(){var e=Object(U.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(this.baseUrl+t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching game events for path ".concat(this.baseUrl).concat(t,":"),e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_=n(15),q=n(20);function F(e){return Object.keys(e).filter((function(e){return Number.isNaN(+e)}))}!function(e){e.TRIVIA="trivia",e.PARTY="party",e.BACK_TO_BACK="back-to-back"}(M||(M={}));var H=function(){function e(){Object(x.a)(this,e),this.db=void 0,this.dbName="WinnerDrinks",this.dbVersion=1}return Object(g.a)(e,[{key:"openLocalDB",value:function(){var e=Object(U.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(q.b)(this.dbName,this.dbVersion,{upgrade:function(e,t,n,a){var r,c=Object(_.a)(F(M));try{for(c.s();!(r=c.n()).done;){var s=r.value;e.objectStoreNames.contains(M[s])||e.createObjectStore(M[s],{keyPath:"_id"})}}catch(i){c.e(i)}finally{c.f()}},blocked:function(){console.log("blocked")},blocking:function(){console.log("blocking")},terminated:function(){console.log("terminated")}});case 3:this.db=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("createObjectStores error:",e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadDB",value:function(){var e=Object(U.a)(W.a.mark((function e(){var t,n,a,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Object(_.a)(F(M));try{for(n.s();!(a=n.n()).done;)r=a.value,t.push(this.loadAndFetchGameEvents(M[r]))}catch(c){n.e(c)}finally{n.f()}Promise.all(t).catch((function(e){return console.log("Load DB error:",e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadAndFetchGameEvents",value:function(){var e=Object(U.a)(W.a.mark((function e(t){var n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,fetch("".concat("http://localhost:4000","/api/").concat(t));case 4:if(!(a=e.sent)){e.next=10;break}return e.next=8,a.json();case 8:e.sent.questions.forEach((function(e){return n.push(e)}));case 10:this.loadTable(n,t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("Error when loading game events for game module ".concat(t,":"),e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadTable",value:function(){var e=Object(U.a)(W.a.mark((function e(t,n){var a,r,c,s,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=this.db.transaction(n,"readwrite"),r=a.objectStore(n),c=Object(_.a)(t),e.prev=4,c.s();case 6:if((s=c.n()).done){e.next=12;break}return i=s.value,e.next=10,r.put(i);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),c.e(e.t0);case 17:return e.prev=17,c.f(),e.finish(17);case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(0),console.log("Error when loading indexedDB table for game module ".concat(n,":"),e.t1);case 25:case"end":return e.stop()}}),e,this,[[0,22],[4,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getGameEvents",value:function(){var e=Object(U.a)(W.a.mark((function e(t){var n,a,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.db.transaction(t,"readonly"),a=n.objectStore(t),e.next=5,a.getAll();case 5:return r=e.sent,e.abrupt("return",{questions:r});case 9:e.prev=9,e.t0=e.catch(0),console.log("error:",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteLocalDB",value:function(){var e=Object(U.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)(this.dbName);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function K(){return V.apply(this,arguments)}function V(){return(V=Object(U.a)(W.a.mark((function e(){var t,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new I,n=new H,!window.indexedDB){e.next=14;break}return e.next=5,t.checkStatus();case 5:if(!e.sent){e.next=9;break}return e.abrupt("return",t);case 9:return e.next=11,n.openLocalDB();case 11:return e.abrupt("return",n);case 12:e.next=15;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Y=function(){function e(){Object(x.a)(this,e),this.triviaEvents=void 0,this.partyEvents=void 0,this.backToBackEvents=void 0}return Object(g.a)(e,[{key:"loadGameEvents",value:function(){var e=Object(U.a)(W.a.mark((function e(){var t,n=this;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:return t=e.sent,e.abrupt("return",Promise.all([t.getGameEvents(M.TRIVIA),t.getGameEvents(M.PARTY),t.getGameEvents(M.BACK_TO_BACK)]).then((function(e){return n.triviaEvents=e[0],n.partyEvents=e[1],n.backToBackEvents=e[2],!0})).catch((function(e){return!1})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getTriviaEvents",value:function(){return this.triviaEvents}},{key:"getPartyEvents",value:function(){return this.partyEvents}},{key:"getBackToBackEvents",value:function(){return this.backToBackEvents}}]),e}(),J=function(){function e(){var t=this;Object(x.a)(this,e),this.addScore=function(e,t){e.addScore(t)},this.getNewGameIndex=function(e,t,n){for(var a=e;a===e||!n[a].active;)a=Math.floor(Math.random()*t.length);return a},this.getPlayers=function(e,n){for(var a=[],r=0;r<n.length;r++)n[r].isActive&&a.push(n[r]);return t.shuffle(a),a.slice(0,e)},this.getRandomGameEvent=function(e){return e.questions[Math.floor(Math.random()*e.questions.length)]},this.getNumActivePlayers=function(e){var t=0;return e.forEach((function(e){e.isActive&&t++})),t}}return Object(g.a)(e,[{key:"shuffle",value:function(e){for(var t,n,a=e.length;a;)n=Math.floor(Math.random()*a--),t=e[a],e[a]=e[n],e[n]=t;return e}}]),e}();function z(){return(z=Object(U.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Y,e.next=3,t.loadGameEvents();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=function(){var e=new J,t=Object(a.useState)(),n=Object(o.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),d=Object(o.a)(s,2),b=d[0],j=d[1],h=Object(a.useState)(!1),v=Object(o.a)(h,2),f=v[0],m=v[1],p=Object(a.useState)(!1),O=Object(o.a)(p,2),x=O[0],g=O[1],k=Object(a.useState)(!1),w=Object(o.a)(k,2),N=w[0],E=w[1],P=Object(a.useState)([{name:"Wheel",active:!0,index:0},{name:"Party",active:!0,index:1},{name:"BackToBack",active:!0,index:2},{name:"Trivia",active:!0,index:3}]),C=Object(o.a)(P,2),G=C[0],M=C[1];Object(a.useEffect)((function(){(function(){return z.apply(this,arguments)})().then((function(e){c(e)}))}),[]);var B=function(e){var t=Object(i.a)(b),n=t.findIndex((function(t){return t.name===e}));n>=0&&(t.splice(n,1),j(t))},W=function(e){M(e)},U=function(e){var t=Object(i.a)(b);t.forEach((function(t){return t.name===e&&(t.isActive=!t.isActive)})),j(t)},D=function(e){try{var t=new y(e);j([].concat(Object(i.a)(b),[t]))}catch(n){window.alert(n)}};return r?f?Object(l.jsxs)("div",{children:[Object(l.jsx)(R,{setNavbarOpen:E}),Object(l.jsx)(T,{navbarOpen:N,players:b,gameModuleSettings:G,addUser:D,deleteUser:B,onGameModuleSettingUpdate:W,updatePlayerActive:U}),Object(l.jsxs)("div",{className:"App section",onClick:function(){return N?E(!1):void 0},children:[Object(l.jsx)("h1",{className:"title is-3",children:"Let's play!"}),Object(l.jsx)(S,{activeGames:G,gameService:e,players:b,gameModuleService:r})]})]}):x?Object(l.jsxs)("div",{children:[Object(l.jsx)(R,{setNavbarOpen:E}),Object(l.jsx)(T,{navbarOpen:N,players:b,gameModuleSettings:G,addUser:D,deleteUser:B,onGameModuleSettingUpdate:W,updatePlayerActive:U}),Object(l.jsxs)("div",{className:"App section",onClick:function(){return N?E(!1):void 0},children:[Object(l.jsx)(u,{addUser:D}),Object(l.jsx)("input",{className:"button",type:"button",value:"Done",onClick:function(){b.length<2?g(!0):m(!0)}}),Object(l.jsx)(A,{message:"There needs to be at least two players to start the game!"}),Object(l.jsx)("h2",{className:"title is-5",children:"Players"}),Object(l.jsx)("ul",{className:"columns",children:b.map((function(e){return Object(l.jsx)("li",{className:"column",children:e.toString()},e.toString())}))})]})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)(R,{setNavbarOpen:E}),Object(l.jsx)(T,{navbarOpen:N,players:b,gameModuleSettings:G,addUser:D,deleteUser:B,onGameModuleSettingUpdate:W,updatePlayerActive:U}),Object(l.jsxs)("div",{className:"App section",onClick:function(){return N?E(!1):void 0},children:[Object(l.jsx)(u,{addUser:D}),Object(l.jsx)("input",{className:"button",type:"button",value:"Done",onClick:function(){b.length<2?g(!0):m(!0)}}),Object(l.jsx)("h2",{className:"title is-5",children:"Players"}),Object(l.jsx)("ul",{className:"columns",children:b.map((function(e){return Object(l.jsx)("li",{className:"column",children:e.toString()},e.toString())}))})]})]}):Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"Loading..."})})},Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,67)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)($,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("http://localhost:4000",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("http://localhost:4000","/service-worker.js");Q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):X(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):X(t,e)}))}}(),Z()}},[[64,1,2]]]);
//# sourceMappingURL=main.5b8139f7.chunk.js.map