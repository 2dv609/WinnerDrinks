(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(20),o=n.n(r),s=(n(29),n(24)),i=n(2),l=n(0);var u=function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(l.jsxs)("div",{className:"Login box",children:[Object(l.jsx)("h1",{className:"title",children:"Add all players"}),Object(l.jsx)("input",{className:"input",type:"text",value:c,name:"newname",id:"newname",onChange:function(e){e.target.value.length>10||r(e.target.value)}}),Object(l.jsx)("input",{className:"button",type:"button",onClick:function(){e.setter(c),r("")},value:"Add",id:"newnamebtn"})]})};var h=function(e){var t=e.gp,n=Object(a.useState)(t.getPlayers(2)),c=Object(i.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){return function(){o(t.getPlayers(2))}}),[t]),Object(l.jsxs)("div",{className:"box",children:[Object(l.jsx)("div",{className:"content",children:e.gameEvent.question.replace("{players[0]}","".concat(r[0])).replace("{players[1]}","".concat(r[1]))}),Object(l.jsx)("h3",{children:"Who won?"}),Object(l.jsx)("button",{className:"button",onClick:function(){t.addScore(r[0],1),t.makeWinnerAlert(r[0]),t.chooseRandomNewGame()},children:r[0].toString()}),Object(l.jsx)("button",{className:"button",onClick:function(){t.addScore(r[1],1),t.makeWinnerAlert(r[1]),t.chooseRandomNewGame()},children:r[1].toString()})]})},d=n(21),j=n(22),b=function(){function e(t){if(Object(d.a)(this,e),this.name=void 0,this.isActive=void 0,this.score=void 0,t.length<3||t.length>10)throw Error("Name must be at least 3 characters and not exceed 10.");if(t&&!t.trim())throw Error("Name cannot be empty.");this.name=t,this.isActive=!0,this.score=0}return Object(j.a)(e,[{key:"setScore",value:function(e){this.score=e}},{key:"addScore",value:function(e){this.score+=e}},{key:"toString",value:function(e){return e?"Name: ".concat(this.name," Score: ").concat(this.score," isActive: ").concat(this.isActive):this.name}}]),e}(),f=(n(31),["#9ede73","#f7ea00","#e48900","#be0000"]),m={animationName:"spin",animationTimingFunction:"ease-in-out",animationDuration:"".concat(3,"s"),animationDelay:"0.0s",animationIterationCount:1,animationDirection:"normal",animationFillMode:"forwards",marginBottom:"2rem"};var v=function(e){var t=e.gp,n=t.getPlayers(4),c=360/n.length,r=Object(a.useState)(!0),o=Object(i.a)(r,2),s=o[0],u=o[1],h=Object(a.useState)(""),d=Object(i.a)(h,2),j=d[0],b=d[1],v=Object(a.useState)(""),p=Object(i.a)(v,2),O=p[0],g=p[1],w=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},x=function(){if(s){g("");var e=w(1,n.length)-1,t=function(e){var t=0;switch(e){case 0:t=w(226,315);break;case 1:t=w(136,225);break;case 2:t=w(46,135);break;case 3:t=w(0,45)}return 1440+t}(e),a=document.styleSheets[0],c="\n      @keyframes spin {\n        from {transform:rotate(0deg);}\n        to {transform:rotate(".concat(t,"deg);}\n      }");a.insertRule(c,a.cssRules.length),setTimeout((function(){return y(e)}),3500)}else g("Please reset the wheel..."),console.log("Please reset the wheel...");u(!1)},y=function(e){var a=n[e];console.log("Winning value is: ".concat(a.toString())),b("".concat(a.toString()," won!")),N(),t.addScore(a,1),t.makeWinnerAlert(a),t.chooseRandomNewGame()},N=function(){try{document.styleSheets[0].deleteRule(2),u(!0),g(""),b("")}catch(e){console.log("Stylesheet has already been reset..."),g("Stylesheet has already been reset...")}};return Object(l.jsxs)("div",{className:"WheelComponent",children:[Object(l.jsx)("span",{style:{margin:"0px"},children:"|"}),Object(l.jsx)("div",{onClick:x,className:"wheel",style:m,children:n.map((function(e,t){var n=t*c;return Object(l.jsx)("div",{style:{transform:"rotate(".concat(n,"deg)"),borderRight:"200px solid ".concat(f[t])},className:"arrow",children:Object(l.jsx)("span",{children:e.toString()})},t)}))}),Object(l.jsx)("div",{className:"d-flex",children:Object(l.jsx)("button",{onClick:x,children:"Spin!"})}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:O}),Object(l.jsx)("p",{children:j})]})]})};n(10);var p=function(e){var t=e.gp,n=Object(a.useState)(t.getPlayers(2)),c=Object(i.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){return function(){o(t.getPlayers(2))}}),[t]),Object(l.jsxs)("div",{className:"box container",children:[Object(l.jsx)("div",{className:"content",children:e.gameEvent.question}),Object(l.jsx)("h3",{className:"title is-6",children:"Were both correct?"}),Object(l.jsx)("button",{className:"button",onClick:function(){t.addScore(r[0],1),t.addScore(r[1],1),t.makeWinnerAlert(r),t.chooseRandomNewGame()},children:"They were correct!"}),Object(l.jsx)("button",{className:"button",onClick:function(){t.makeWinnerAlert(null),t.chooseRandomNewGame()},children:"They were wrong!"})]})},O=n(4),g=n.n(O),w=n(5),x=n(23),y=function(e){var t=document.createElement("span");return t.innerHTML=e,t.innerHTML},N=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e},S=(n(36),n(37),function(e){var t=e.answer,n=e.handleAnswer;return Object(a.useEffect)((function(){}),[]),Object(l.jsx)("div",{className:"questionDiv card",onClick:n,children:t})}),k=function(e){var t=e.gp,n=Object(a.useState)(t.getPlayers(1)),c=Object(i.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)([]),u=Object(i.a)(s,2),h=u[0],d=u[1],j=Object(a.useState)(0),b=Object(i.a)(j,2),f=b[0],m=b[1];Object(a.useEffect)((function(){console.log(e.event),v()}),[]),Object(a.useEffect)((function(){return function(){o(t.getPlayers(1))}}),[t]);var v=function(){var t=Object(w.a)(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.gameEvent,(a=n.incorrect_answers).push(n.correct_answer),a=N(a),n.all_answers=a,d([n]);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(e){e.target.innerText===h[f].correct_answer?(t.addScore(r[0],1),t.chooseRandomNewGame(),t.makeWinnerAlert(r[0])):(m(f+1),t.chooseRandomNewGame(),t.makeWinnerAlert(null))};return Object(l.jsxs)("div",{className:"box",children:[Object(l.jsxs)("div",{id:"gameInfo",children:[Object(l.jsx)("h4",{children:"Turn to answer a question: "}),Object(l.jsx)("ul",{children:Object(l.jsx)("li",{className:"card",children:r[0].name})})]}),Object(l.jsx)("br",{}),h.length>0&&Object(l.jsx)("h2",{children:y(h[f].question)}),h.length>0?Object(l.jsxs)("div",{className:"answersDiv",children:[Object(l.jsx)("br",{}),h[f].all_answers.map((function(e){return Object(l.jsx)(S,{answer:y(e),handleAnswer:p},Object(x.uuid)())}))]}):Object(l.jsx)("h4",{children:"Loading questions"})]})},A=n(8),E=n.n(A),W="".concat("http://localhost:4000","/api/");console.log(W);var C=function(){var e=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(W+"trivia");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(W+"back-to-back");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get(W+"party");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();var R=function(e){var t=[v,h,p,k],n=Object(a.useState)(1),c=Object(i.a)(n,2),r=c[0],o=c[1],s=Object(a.useState)(void 0),u=Object(i.a)(s,2),d=u[0],j=u[1],f=Object(a.useState)(void 0),m=Object(i.a)(f,2),O=m[0],g=m[1],w=Object(a.useState)(void 0),x=Object(i.a)(w,2),y=x[0],N=x[1];Object(a.useEffect)((function(){var e=C(),t=P(),n=M();Promise.all([e,t,n]).then((function(e){j(e[0].data),g(e[1].data),N(e[2].data)}))}),[]);var S=function(e){return e.questions[Math.floor(Math.random()*e.questions.length)]},A={getPlayers:function(t){var n=[];t=Math.min(t,e.players.length),function(e){for(var t,n,a=e.length;a;)n=Math.floor(Math.random()*a--),t=e[a],e[a]=e[n],e[n]=t}(e.players);for(var a=0;a<t;a++)n.push(e.players[a]);return n},addScore:function(e,t){e.addScore(t)},makeWinnerAlert:function(e){var t;Array.isArray(e)?(t="The winners are: \n",e.forEach((function(e){t+="".concat(e.toString()," with a total score of: ").concat(e.score," \n")}))):t=null==e?"No points awarded!":e instanceof b?"The winner is ".concat(e.toString()," with a total score of: ").concat(e.score):"",alert(t)},chooseRandomNewGame:function(){for(var e=r;e===r;)e=Math.floor(Math.random()*t.length);o(e)}};if(!d||!O||!y)return Object(l.jsx)("div",{children:Object(l.jsx)("p",{children:"Loading..."})});switch(r){case 3:return Object(l.jsx)("div",{className:"Game",children:Object(l.jsx)(k,{gp:A,gameEvent:S(d)})});case 2:return Object(l.jsx)("div",{className:"Game",children:Object(l.jsx)(p,{gp:A,gameEvent:S(O)})});case 1:return Object(l.jsx)("div",{className:"Game",children:Object(l.jsx)(h,{gp:A,gameEvent:S(y)})});case 0:return Object(l.jsx)("div",{className:"Game",children:Object(l.jsx)(v,{gp:A})})}return Object(l.jsx)("div",{className:"Game"})};n(55);var T=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"button is-danger",onClick:function(){window.location.reload()},children:"Reload page"})})};var G=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!1),h=Object(i.a)(o,2),d=h[0],j=h[1];return d?Object(l.jsxs)("div",{className:"App section",children:[Object(l.jsx)("h1",{className:"title is-3",children:"Let's play!"}),Object(l.jsx)(R,{players:c}),Object(l.jsx)(T,{})]}):Object(l.jsxs)("div",{className:"App section",children:[console.log("PUBLIC_URL"),console.log("http://localhost:4000"),Object(l.jsx)(u,{setter:function(e){var t=new b(e);r([].concat(Object(s.a)(c),[t]))}}),Object(l.jsx)("input",{className:"button",type:"button",value:"Done",onClick:function(){c.length<2||j(!0)}}),Object(l.jsx)("h2",{className:"title is-5",children:"Players"}),Object(l.jsx)("ul",{className:"columns",children:c.map((function(e){return Object(l.jsx)("li",{className:"column",children:e.toString()},e.toString())}))})]})},L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(G,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("http://localhost:4000",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("http://localhost:4000","/service-worker.js");L?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):q(t,e)}))}}(),D()}},[[56,1,2]]]);
//# sourceMappingURL=main.caa31729.chunk.js.map