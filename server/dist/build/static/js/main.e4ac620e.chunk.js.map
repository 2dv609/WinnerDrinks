{"version":3,"sources":["Login.tsx","Components/Party/Party.tsx","Player.tsx","Components/WheelComponent/WheelComponent.tsx","Components/BackToBack/BackToBack.tsx","Components/Trivia/utils/api-functions.ts","Components/Trivia/utils/functions.ts","Components/Trivia/QuestionCard.tsx","Components/Trivia/Trivia.tsx","util/API.ts","util/LocalDB.ts","util/UtilService.ts","util/UtilServiceFactory.ts","Game.tsx","ResetButton.tsx","App.tsx","serviceWorkerRegistration.ts","reportWebVitals.ts","index.tsx"],"names":["Login","props","useState","input","setInput","className","type","value","name","id","onChange","e","target","length","onClick","setter","Party","gp","getPlayers","players","setPlayers","useEffect","gameEvent","question","replace","addScore","makeWinnerAlert","chooseRandomNewGame","toString","Player","isActive","score","Error","trim","this","newScore","points","debug","colors","style","animationName","animationTimingFunction","animationDuration","animationDelay","animationIterationCount","animationDirection","animationFillMode","marginBottom","WheelComponent","list","rotateDeg","isReset","setIsReset","result","setResult","errorMessage","setErrorMessage","randomIntFromInterval","min","max","Math","floor","random","startSpin","winnerIndex","degrees","index","degreeWinner","getRandomRotationDegrees","styleSheet","document","styleSheets","keyframes","insertRule","cssRules","setTimeout","getWinner","TIME","console","log","winner","reset","deleteRule","error","margin","map","val","degree","transform","borderRight","BackToBack","formatAPIResponseString","spanTag","createElement","innerHTML","shuffleArray","a","i","j","QuestionCard","answer","handleAnswer","Trivia","loadedQuestions","setLoadedQuestions","questionNumber","setQuestionNumber","event","loadNewQuestions","all_answers","incorrect_answers","push","correct_answer","innerText","answerString","uuid","API","baseUrl","process","axios","get","response","data","connectionAPI","LocalDB","db","dbName","triviaEvents","partyEvents","backToBackEvents","tableNames","openDB","upgrade","tableName","objectStoreNames","contains","createObjectStore","keyPath","loadTrivia","loadParty","loadBackToBack","Promise","all","catch","questions","fetch","triviaResponse","json","forEach","loadTable","partyResponse","backToBackResponse","transaction","store","objectStore","put","getAll","UtilService","api","getTrivia","getBackToBack","getParty","window","indexedDB","checkStatus","Game","games","currentGameIndex","setCurrentGameIndex","undefined","setTriviaEvents","setBackToBackEvents","setPartyEvents","getUtilService","then","s","getRandomGameEvent","gameEventAPI","gameProps","amount","array","t","m","shuffle","p","str","Array","isArray","element","alert","newIndex","ComponentGetToKnow","location","reload","App","names","setNames","play","setPlay","ResetButton","newUserName","newUser","item","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","URL","href","origin","addEventListener","headers","contentType","status","indexOf","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.e4ac620e.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nfunction Login(props: any) {\n  const [input, setInput] = useState('');\n  return (\n    <div className=\"Login box\">\n      <h1 className=\"title\">Add all players</h1>\n      <input className=\"input\" type=\"text\" value={input} name=\"newname\" id=\"newname\" onChange={e => {\n        if ((e.target as any).value.length > 10) return;\n        setInput((e.target as any).value);\n      }} />\n      <input className=\"button\" type=\"button\" onClick={() => {\n        props.setter(input);\n        setInput('');\n\n      }} value=\"Add\" id=\"newnamebtn\" />\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState, useEffect } from 'react';\nimport GameProps from '../GameProps';\n\nfunction Party(props: any) {\n    const gp: GameProps = props.gp;\n    const [players, setPlayers] = useState(gp.getPlayers(2));\n    \n    function addPlayerToGameEvent(): string {\n        const gameEvent:string = props.gameEvent.question\n        return gameEvent.replace('{players[0]}', `${players[0]}`).replace('{players[1]}', `${players[1]}`)\n    }\n\n    useEffect(() => { \n        return () => { // Return a function for code cleanup. This will set new players \n            setPlayers(gp.getPlayers(2));\n        }\n    }, [gp])\n\n    return (\n        <div className=\"box\">\n            <div className=\"content\">{addPlayerToGameEvent()}</div>\n            <h3>Who won?</h3>\n\n            <button className=\"button\" onClick={() => {\n                gp.addScore(players[0], 1)\n                gp.makeWinnerAlert(players[0])\n                gp.chooseRandomNewGame()\n            }}>{players[0].toString()}</button>\n\n            <button className=\"button\" onClick={() => {\n                gp.addScore(players[1], 1)\n                gp.makeWinnerAlert(players[1])\n                gp.chooseRandomNewGame()\n            }}>{players[1].toString()}</button>\n\n        </div>\n    )\n};\n\nexport default Party;","/**\n * A player class for keeping track of the player names, \n * their score and whether they are currently active in the game or not. \n * @author Delfi Sehidic\n */\n\nclass Player {\n    name: string; // The name of the player as registered in the input\n    isActive: boolean; // Is the player currently playing or paused for e.g. a bathroom visit?\n    score: number;\n\n    /**\n     * Constructs a new player object. \n     * @param name Must be at least 3 characters long and not exceed 10.\n     */\n    constructor(name: string) {\n        if (name.length < 3 || name.length > 10) {\n            throw Error(\"Name must be at least 3 characters and not exceed 10.\");\n        };\n        if (name && !name.trim()) {\n            throw Error(\"Name cannot be empty.\");\n        };\n        this.name = name;\n        this.isActive = true;\n        this.score = 0;\n    }\n    /**\n     * Overwrites the old score of the player and sets it to newScore. \n     * @param newScore \n     */\n    setScore(newScore: number) {\n        this.score = newScore;\n    };\n    /**\n     * Updates the score. For example, if the score is 10 and points is 1, the score will now be 11. \n     * \n     * @param points Added to the existing score. Can be negative. \n     */\n    addScore(points: number) {\n        this.score += points;\n    };\n    /**\n     * Returns a string representation of the player. \n     * @param debug If set to true, it also returns the score and activity of the player. \n     * @returns Player name or full player stats. \n     */\n    toString(debug?:boolean): string {\n        if (debug) {\n            return `Name: ${this.name} Score: ${this.score} isActive: ${this.isActive}`;\n        }\n        return this.name;\n    }\n}\n\nexport default Player;","import React, { useState } from 'react';\nimport GameProps from '../GameProps';\nimport './WheelComponent.css'\n\nconst DEG = 360\nconst colors = ['#9ede73', '#f7ea00', '#e48900', '#be0000']\nconst TIME = 3\n\nlet style = {\n  animationName: 'spin',\n  animationTimingFunction: 'ease-in-out',\n  animationDuration: `${TIME}s`,\n  animationDelay: '0.0s',\n  animationIterationCount: 1,\n  animationDirection: 'normal',\n  animationFillMode: 'forwards',\n  marginBottom: '2rem'\n};\n\n/**\n * \n * @param {Array} users Array of participant names. \n * @returns {jsx} Component\n */\nfunction WheelComponent(props: any) {\n  // Error checking number of users. If < 4 => duplicate one of the users / If > 4 => skip one of the users\n  const gp: GameProps = props.gp;\n  const list = gp.getPlayers(4);\n  const rotateDeg = DEG / list.length\n  const [isReset, setIsReset] = useState(true)\n  const [result, setResult] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n  \n  /**\n   * Function that generate random integer in span (min and max included).\n   * @param {Number} min Min number\n   * @param {Number} max Max number\n   * @returns {Number} Random number generated\n   */\n  const randomIntFromInterval = (min: number, max: number): number => Math.floor(Math.random() * (max - min + 1) + min);\n\n  /**\n   * Function that generates random degrees that the wheel will spin.\n   * @param {Number} index Index of the winning element\n   * @returns {Number} Degrees generated\n   */\n  const getRandomRotationDegrees = (index: number): number => {\n    let degreeWinner: number = 0;\n    switch(index) {\n      case(0):\n        degreeWinner = randomIntFromInterval(226, 315)\n        break\n      case(1):\n        degreeWinner = randomIntFromInterval(136, 225)\n        break\n      case(2):\n        degreeWinner = randomIntFromInterval(46, 135)\n        break\n      case(3):\n        degreeWinner = randomIntFromInterval(0, 45)\n        break\n      default:\n      break\n    }\n\n    const rotateDegrees = 360 * 4 + degreeWinner\n    return rotateDegrees\n  }\n  \n  /**\n   * Function that is called when user click spin-button.\n   * Calls the other function and set the winner.\n   */\n  const startSpin = () => {\n    if(isReset) {\n      setErrorMessage('')\n\n      const winnerIndex = randomIntFromInterval(1, list.length) - 1\n      const degrees = getRandomRotationDegrees(winnerIndex)\n    \n      let styleSheet = document.styleSheets[0];\n\n      let keyframes = `\n      @keyframes spin {\n        from {transform:rotate(0deg);}\n        to {transform:rotate(${degrees}deg);}\n      }`\n    \n      styleSheet.insertRule(keyframes, styleSheet.cssRules.length);\n    \n      setTimeout(() => getWinner(winnerIndex), (TIME) * 1000 + 500);\n    } else {\n      setErrorMessage('Please reset the wheel...')\n      console.log('Please reset the wheel...')\n    }\n\n    setIsReset(false)\n  }\n\n  /**\n   * Function that gets and sets the winner.\n   * @param {Number} index \n   */\n  const getWinner = (index: number) => {\n    const winner = list[index]\n    console.log(`Winning value is: ${winner.toString()}`)\n    setResult(`${winner.toString()} won!`)\n    reset();\n\n    gp.addScore(winner, 1)\n    gp.makeWinnerAlert(winner)\n    gp.chooseRandomNewGame()\n\n  }\n\n  /**\n   * Function that resets the wheel and values.\n   */\n  const reset = () => {\n    try {\n      let styleSheet = document.styleSheets[0];\n      styleSheet.deleteRule(2)\n      setIsReset(true)\n      setErrorMessage('')\n      setResult('')\n    } catch (error) {\n      console.log('Stylesheet has already been reset...')\n      setErrorMessage('Stylesheet has already been reset...')\n    }\n  }\n\n  return (\n    \n    <div className=\"WheelComponent\">\n      <span style={{margin: '0px'}}>|</span>\n      <div onClick={startSpin} className=\"wheel\" style={style}>\n      {list.map((val, index) => {\n        const degree = (index * rotateDeg) //- 45\n        \n        return (\n          <div key={index} style={{transform: `rotate(${degree}deg)`, borderRight: `200px solid ${colors[index]}`}} className=\"arrow\">\n            <span>{val.toString()}</span>\n          </div>\n        )\n      })}\n      </div>\n      <div className=\"d-flex\">\n        <button onClick={startSpin}>Spin!</button>\n      </div>\n      <div>\n        <p>{errorMessage}</p>\n        <p>{result}</p>\n      </div>\n    </div>\n  )\n}\n\nexport default WheelComponent;","import { useState, useEffect } from 'react';\nimport GameProps from '../GameProps';\nimport '../../App.css';\n\nconst NUM_OF_PLAYERS = 2; // How many players do you need? \n\nfunction BackToBack(props: any) {\n    const gp: GameProps = props.gp; // Contains the methods done and getPlayers. \n    const [players, setPlayers] = useState(gp.getPlayers(NUM_OF_PLAYERS)); // players is an array \n\n    useEffect(() => { \n        return () => { // Return a function for code cleanup. This will set new players \n\n            setPlayers(gp.getPlayers(NUM_OF_PLAYERS));\n        }\n    }, [gp])\n\n    // Either both win, or both lose.\n    return (\n        <div className=\"box container\">\n            <div className=\"content\">{props.gameEvent.question}</div>\n            <h3 className=\"title is-6\">Were both correct?</h3>\n\n            <button className=\"button\" onClick={() => {\n                gp.addScore(players[0], 1)\n                gp.addScore(players[1], 1)\n                gp.makeWinnerAlert(players)\n                gp.chooseRandomNewGame()\n            }}>{'They were correct!'}</button>\n            <button className=\"button\" onClick={() => {\n                gp.makeWinnerAlert(null)\n                gp.chooseRandomNewGame()\n            }}>{'They were wrong!'}</button>\n        </div>\n    )\n};\n\nexport default BackToBack;","export const formatAPIResponseString = (input: string) => {\n  let spanTag = document.createElement('span')\n  spanTag.innerHTML = input\n  return spanTag.innerHTML\n}\n","export const shuffleArray = (a: string[]):string[] => {\n  for (let i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n}","import React, { useEffect, useState } from 'react'\nimport './QuestionCard.css';\n\ntype Props = {\n  answer: string;\n  handleAnswer: any;\n}\n\nconst QuestionCard: React.FC<Props> = ({ answer, handleAnswer }) => {\n\n  useEffect(() => {\n  }, [])\n\n  return (\n\n      <div className={'questionDiv card'}\n        onClick={handleAnswer}>\n        {answer}\n      </div>\n\n  );\n}\n\nexport default QuestionCard;","import React, { useEffect, useState } from 'react'\nimport { uuid } from 'uuidv4'\nimport { formatAPIResponseString } from './utils/api-functions'\nimport { shuffleArray } from './utils/functions'\nimport './Trivia.css';\nimport QuestionCard from './QuestionCard';\nimport GameProps from '../GameProps';\n\nconst NUM_OF_PLAYERS = 1;\n\nconst Trivia = (props: any) => {\n  const gp: GameProps = props.gp;\n  const [players, setPlayers] = useState(gp.getPlayers(NUM_OF_PLAYERS));\n  const [loadedQuestions, setLoadedQuestions] = useState<ITrivia[]>([]);\n  const [questionNumber, setQuestionNumber] = useState<number>(0);\n\n  useEffect(() => {\n    console.log(props.event)\n    loadNewQuestions()\n  }, [])\n\n  useEffect(() => {\n    return () => { // Return a function for code cleanup. This will set new players \n      setPlayers(gp.getPlayers(NUM_OF_PLAYERS));\n    }\n  }, [gp])\n\n  const loadNewQuestions = async () => {\n    const gameEvent: ITrivia = props.gameEvent\n    let all_answers\n    all_answers = gameEvent.incorrect_answers\n    all_answers.push(gameEvent.correct_answer)\n    all_answers = shuffleArray(all_answers)\n    gameEvent.all_answers = all_answers\n    setLoadedQuestions([gameEvent]);\n  }\n\n  const handleAnswer = (e: any) => {\n    if (e.target.innerText === loadedQuestions[questionNumber].correct_answer) {\n      gp.addScore(players[0], 1)\n      gp.chooseRandomNewGame()\n      gp.makeWinnerAlert(players[0])\n    } else {\n      setQuestionNumber(questionNumber + 1);\n      gp.chooseRandomNewGame()\n      gp.makeWinnerAlert(null)\n    }\n  }\n\n  return (\n    <div className=\"box\">\n      <div id={'gameInfo'}>\n        <h4>Turn to answer a question: </h4>\n        <ul>\n          <li className=\"card\" >{players[0].name}</li>\n        </ul>\n        {/* {players.length > 0 && (\n          <ul>\n            {players.map((player, i) => {\n              return <li key={uuid()}>{player.name}</li>\n            })}\n          </ul>\n        )} */}\n      </div>\n\n      <br />\n      {loadedQuestions.length > 0 && (<h2>{formatAPIResponseString(loadedQuestions[questionNumber].question)}</h2>)}\n\n      {(loadedQuestions.length > 0) ?\n        <div className={'answersDiv'}>\n          <br />\n          {loadedQuestions[questionNumber].all_answers.map((answerString) => {\n            return <QuestionCard answer={formatAPIResponseString(answerString)} handleAnswer={handleAnswer} key={uuid()} />\n          })}\n        </div>\n        : <h4>Loading questions</h4>}\n\n    </div>\n  );\n}\n\nexport default Trivia;","import axios, { AxiosResponse } from 'axios'\nimport IUtilService from './IUtilService'\n\nexport default class API implements IUtilService {\n\n  private readonly baseUrl: string = `${process.env.REACT_APP_SERVER_URL}/api/`\n\n  public async checkStatus(): Promise<any> {\n    try {\n      const response: AxiosResponse<connectionAPI> = await axios.get(this.baseUrl + 'status')\n\n      return response.data.connectionAPI === 1\n\n    } catch (error) {\n      console.log('error:', error)\n      return false\n    }\n  }\n\n  public async getTrivia(): Promise<GameEventAPI | undefined> {\n    try {\n      const response: AxiosResponse<GameEventAPI> = await axios.get(this.baseUrl + 'trivia')\n\n      return response.data\n\n    } catch (error) {\n      console.log('error:', error)\n    }\n  }\n\n  public async getBackToBack(): Promise<GameEventAPI | undefined> {\n    try {\n      const response: AxiosResponse<GameEventAPI> = await axios.get(this.baseUrl + 'back-to-back')\n\n      return response.data\n\n    } catch (error) {\n      console.log('error:', error)\n    }\n  }\n\n  public async getParty(): Promise<GameEventAPI | undefined> {\n    try {\n      const response: AxiosResponse<GameEventAPI> = await axios.get(this.baseUrl + 'party')\n\n      return response.data\n\n    } catch (error) {\n      console.log('error:', error)\n    }\n  }\n}","import { openDB, IDBPDatabase } from 'idb'\nimport IUtilService from './IUtilService'\n\nexport default class LocalDB implements IUtilService {\n\n    private db: any\n    readonly dbName: string  = 'WinnerDrinks'\n    readonly triviaEvents: string = 'triviaEvents'\n    readonly partyEvents: string = 'partyEvents'\n    readonly backToBackEvents: string = 'backToBackEvents'\n\n    public async createObjectStores(): Promise<void> {\n        try {\n            const tableNames = [this.triviaEvents, this.partyEvents, this.backToBackEvents]\n            this.db = await openDB(this.dbName, 1, { // use undefined for current version https://github.com/jakearchibald/idb#opendb \n                upgrade(db: IDBPDatabase) {\n                    for (const tableName of tableNames) {\n                        if (db.objectStoreNames.contains(tableName)) {\n                            continue;\n                        }\n                        db.createObjectStore(tableName, { keyPath: '_id' })\n                    }\n                },\n            })\n\n        } catch (error) {\n            console.log('createObjectStores error:', error)\n        }\n    }\n\n    public async loadDB(): Promise<void> {\n        const loadTrivia = this.loadTrivia()\n        const loadParty = this.loadParty()\n        const loadBackToBack = this.loadBackToBack()\n\n        Promise.all([loadTrivia, loadParty, loadBackToBack]).catch(error => console.log('Load DB error:', error))\n    }\n\n    private async loadTrivia(): Promise<void> {\n        try {\n            const questions: ITrivia[] = []\n            const triviaResponse: any = await fetch(`${process.env.PUBLIC_URL}/api/trivia`)\n            \n            if (triviaResponse) {\n                const triviaResponseJSON: any = await triviaResponse.json()\n                triviaResponseJSON.questions.forEach((question: ITrivia) => questions.push(question))    \n            }\n\n            this.loadTable(questions, this.triviaEvents)\n\n        }  catch (error) {\n            console.log('Load trivia error:', error)\n        }\n    }\n\n    private async loadParty(): Promise<void> {\n        try {\n            const questions: IParty[] = []\n            const partyResponse: any = await fetch(`${process.env.PUBLIC_URL}/api/party`)\n            \n            if (partyResponse) {\n                const partyResponseJSON: any = await partyResponse.json()\n                partyResponseJSON.questions.forEach((question: IParty) => questions.push(question))    \n            }\n\n            this.loadTable(questions, this.partyEvents)\n\n        }  catch (error) {\n            console.log('Load party error:', error)\n        }\n    }\n\n    private async loadBackToBack(): Promise<void> {\n        try {\n            const questions: IBackToBack[] = []\n            const backToBackResponse: any = await fetch(`${process.env.PUBLIC_URL}/api/back-to-back`)\n            \n            if (backToBackResponse) {\n                const backToBackResponseJSON: any = await backToBackResponse.json()\n                backToBackResponseJSON.questions.forEach((question: IBackToBack) => questions.push(question))    \n            }\n\n            this.loadTable(questions, this.backToBackEvents)\n\n        }  catch (error) {\n            console.log('Load back-to-back error:', error)\n        }\n    }\n\n    private async loadTable(questions: any[] | undefined, tableName: string): Promise<void> { \n        try {\n            if (questions) {\n                const transaction = this.db.transaction(tableName, 'readwrite');\n                const store = transaction.objectStore(tableName);\n                \n                for (const question of questions) {\n                    await store.put(question);\n                }\n            }\n        \n        } catch (error) {\n            console.log('Load table error:', error)\n        }\n    }   \n\n    public async getTrivia(): Promise<GameEventAPI | undefined> {\n        try {\n            await this.openDB()\n            const transaction = this.db.transaction(this.triviaEvents, 'readonly')\n            const store = transaction.objectStore(this.triviaEvents)\n            const questions = await store.getAll()\n            return { questions: questions }\n        \n        } catch (error) {\n            console.log('error:', error)\n        }\n    }\n\n    public async getBackToBack(): Promise<GameEventAPI | undefined> {\n        try {\n            await this.openDB()\n            const transaction = this.db.transaction(this.backToBackEvents, 'readonly')\n            const store = transaction.objectStore(this.backToBackEvents)\n            const questions = await store.getAll()\n            return { questions: questions }\n        \n        } catch (error) {\n            console.log('error:', error)\n        }\n    }\n\n    public async getParty(): Promise<GameEventAPI  | undefined> {\n        try {    \n            await this.openDB()\n            const transaction = this.db.transaction(this.partyEvents, 'readonly')\n            const store = transaction.objectStore(this.partyEvents)\n            const questions = await store.getAll()\n            return { questions: questions }\n        \n        } catch (error) {\n            console.log('error:', error)\n        }\n    }\n\n    private async openDB(): Promise<boolean> {\n        try {\n            this.db = await openDB(this.dbName, 1) // version == undefined gives current version https://github.com/jakearchibald/idb#opendb\n            return true\n        \n        } catch (error) {\n            console.log('error:', error)\n            return false\n        }\n    }\n}","import API from './API'\nimport LocalDB from './LocalDB'\nimport IUtilService from './IUtilService'\n\nexport default class UtilService implements IUtilService {\n\n  private api: API = new API()\n  private db: LocalDB = new LocalDB()  \n\n  public async getTrivia(): Promise<GameEventAPI | undefined> {\n\n    return await this.db.getTrivia() || await this.api.getTrivia() \n    \n  }\n\n  public async getBackToBack(): Promise<GameEventAPI | undefined> {\n    \n    return await this.db.getBackToBack() || await this.api.getBackToBack() \n        \n  }\n\n  public async getParty(): Promise<GameEventAPI | undefined> {\n\n    return await this.db.getParty() || await this.api.getParty() \n        \n  }\n}","import IUtilService from \"./IUtilService\"\nimport UtilService from \"./UtilService\"\nimport API from './API'\nimport LocalDB from \"./LocalDB\"\n\nexport default async function getUtilService(): Promise<IUtilService> {    \n\n    const api: API = new API()\n\n    if (window.indexedDB) {\n        if (await api.checkStatus()) {\n            return new UtilService()\n            \n        } else {\n            return new LocalDB()    \n        } \n    } else {\n        return new API()\n    }\n}\n ","import React, { useState, useEffect } from 'react';\nimport Party from './Components/Party/Party'\nimport Player from './Player'\nimport WheelComponent from './Components/WheelComponent/WheelComponent'\nimport BackToBack from './Components/BackToBack/BackToBack';\nimport Trivia from './Components/Trivia/Trivia'\nimport getUtilService from './util/UtilServiceFactory'\nimport IUtilService from './util/IUtilService'\n\n\nfunction shuffle(array: Player[]) {\n    var m = array.length, t, i;\n    while (m) {\n        i = Math.floor(Math.random() * m--);\n        t = array[m];\n        array[m] = array[i];\n        array[i] = t;\n    }\n    return array;\n}\n\nfunction Game(props: any) {\n    const games = [WheelComponent, Party, BackToBack, Trivia];\n    const [currentGameIndex, setCurrentGameIndex] = useState(1);\n    const [triviaEvents, setTriviaEvents] = useState<GameEventAPI | undefined>(undefined)\n    const [backToBackEvents, setBackToBackEvents] = useState<GameEventAPI | undefined>(undefined)\n    const [partyEvents, setPartyEvents] = useState<GameEventAPI | undefined>(undefined)\n    \n    // Load data to game events\n    useEffect(() => {\n        getUtilService()\n            .then((s: IUtilService) => {\n                // maybe promise allSettled is better to use then if one promise is rejected you can use some cached events\n                Promise.all([s.getTrivia(), s.getBackToBack(), s.getParty()]).then((response) => {\n                    setTriviaEvents(response[0])\n                    setBackToBackEvents(response[1])\n                    setPartyEvents(response[2])\n\n                    console.log('response[0]', response[0])\n                    console.log('response[1]', response[1])\n                    console.log('response[2]', response[2])\n                })\n            })\n    }, [])\n\n    const addScore = (p: Player, score: number) => {\n        p.addScore(score)\n    }\n\n    const makeWinnerAlert = (p: any) => {\n        let str: string\n\n        // If p is an array, display an alert for multiple players\n        if (Array.isArray(p)) {\n            str = 'The winners are: \\n'\n            p.forEach(element => {\n                str = str + `${element.toString()} with a total score of: ${element.score} \\n`\n            });\n\n            // If there is no param, display an alert for no points given\n        } else if (p == null) {\n            str = `No points awarded!`\n\n            //If p is a single player object, display an alert for one winner\n        } else if (p instanceof Player) {\n            str = `The winner is ${p.toString()} with a total score of: ${p.score}`\n        } else {\n            str = ``\n        }\n\n        alert(str);\n    }\n\n    const chooseRandomNewGame = () => {\n        let newIndex = currentGameIndex;\n        while (newIndex === currentGameIndex) { // Don't allow the same game twice in a row. \n            newIndex = Math.floor(Math.random() * games.length)\n        }\n        setCurrentGameIndex(newIndex);\n    }\n\n    const getPlayers = (amount: number): Player[] => {\n        const result: Player[] = [];\n        amount = Math.min(amount, props.players.length)\n        shuffle(props.players);\n        for (let i = 0; i < amount; i++) {\n            result.push(props.players[i])\n        }\n        return result;\n    };\n\n    const getRandomGameEvent = (gameEventAPI: GameEventAPI): IBackToBack | IParty | ITrivia => {\n        return gameEventAPI.questions[Math.floor(Math.random() * gameEventAPI.questions.length)]\n    }\n\n    const gameProps = { \n        getPlayers: getPlayers, \n        addScore: addScore, \n        makeWinnerAlert: makeWinnerAlert, \n        chooseRandomNewGame: chooseRandomNewGame\n    };\n\n    if (!triviaEvents || !backToBackEvents || !partyEvents) {\n        return (<div><p>Loading...</p></div>)\n    }\n\n    switch (currentGameIndex) {\n        case 3: \n            return (<div className=\"Game\"><Trivia gp={gameProps} gameEvent={getRandomGameEvent(triviaEvents)}/></div>);\n        case 2:\n            return (<div className=\"Game\"><BackToBack gp={gameProps} gameEvent={getRandomGameEvent(backToBackEvents)}/></div>);\n        case 1:\n            return (<div className=\"Game\"><Party gp={gameProps} gameEvent={getRandomGameEvent(partyEvents)}/></div>);\n        case 0:\n            return (<div className=\"Game\"><WheelComponent gp={gameProps} /></div>);\n\n    }\n    return (\n        <div className=\"Game\">\n\n        </div>\n    );\n}\n\nexport default Game;","import './App.css';\r\n\r\nfunction ComponentGetToKnow() {\r\n    return(        \r\n    <div >\r\n        <button className=\"button is-danger\" onClick={() => {\r\n            window.location.reload();\r\n        }}>Reload page</button>\r\n    </div>);\r\n}\r\n\r\nexport default ComponentGetToKnow;","import React, { useState } from 'react';\nimport Login from './Login';\nimport Game from './Game'\nimport Player from './Player'\nimport 'bulma';\nimport './App.css';\nimport ResetButton from './ResetButton';\n\nfunction App(props: any) {\n  const [names, setNames] = useState<Player[]>([]);\n  const [play, setPlay] = useState(false);\n\n  const addUser = (newUserName: string) => {\n    const newUser = new Player(newUserName);\n    setNames([...names, newUser]);\n  };\n\n\n\n  if (!play) {\n    return (\n      <div className=\"App section\">\n        <Login setter={addUser} />\n        <input className=\"button\" type=\"button\" value=\"Done\" onClick={() => {\n          if (names.length < 2) return; // must be at least two players. \n          setPlay(true); \n        }} />\n        <h2 className=\"title is-5\" >Players</h2>\n        <ul className=\"columns\">\n          {names.map(item =>\n            (<li className=\"column\" key={item.toString()}>{item.toString()}</li>)\n          )}\n        </ul>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"App section\">\n        <h1 className=\"title is-3\">Let's play!</h1>\n        <Game players={names} />\n        <ResetButton></ResetButton>\n      </div>\n\n    )\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  // process.env.NODE_ENV === 'production' && \n  if ('serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n"],"sourceRoot":""}